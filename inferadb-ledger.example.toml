# InferaDB Ledger Configuration
# Copy to inferadb-ledger.toml and adjust for your environment.
# All settings can also be set via environment variables (INFERADB__LEDGER__<KEY>).

# ─────────────────────────────────────────────────────────────────────────────
# Server
# ─────────────────────────────────────────────────────────────────────────────

# gRPC listen address
listen_addr = "0.0.0.0:50051"

# Data directory for Raft logs and state
data_dir = "/var/lib/ledger"

# ─────────────────────────────────────────────────────────────────────────────
# Cluster Bootstrap
# ─────────────────────────────────────────────────────────────────────────────

# Number of nodes expected for bootstrap (follows Consul semantics):
#   0  = Join existing cluster via AdminService
#   1  = Single-node mode, bootstrap immediately
#   2+ = Wait for N peers, lowest-ID node bootstraps
# bootstrap_expect = 3

# Timeout (seconds) waiting for peers during coordinated bootstrap
# bootstrap_timeout_secs = 60

# Interval (seconds) between peer discovery polls
# bootstrap_poll_secs = 2

# ─────────────────────────────────────────────────────────────────────────────
# Discovery
# ─────────────────────────────────────────────────────────────────────────────

# DNS SRV record for peer discovery (_ledger._tcp.<domain>)
# discovery_domain = "cluster.example.com"

# Path to cache discovered peers (survives restarts)
# discovery_cache_path = "/var/lib/ledger/peers.cache"

# Cache TTL in seconds
# discovery_cache_ttl_secs = 3600

# ─────────────────────────────────────────────────────────────────────────────
# Performance
# ─────────────────────────────────────────────────────────────────────────────

# Max transactions per batch
# batch_max_size = 100

# Max wait (ms) for batch to fill before flushing
# batch_max_delay_ms = 10

# Max concurrent requests per connection
# requests_max_concurrent = 100

# Request timeout in seconds
# requests_timeout_secs = 30

# ─────────────────────────────────────────────────────────────────────────────
# Observability
# ─────────────────────────────────────────────────────────────────────────────

# Prometheus metrics endpoint (disabled if unset)
# metrics_addr = "0.0.0.0:9090"
